{"version":3,"sources":["../../src/loggers/as-html.js"],"names":[],"mappings":";;;;AAAA,OAAO,OAAP,GAAiB,gBAAkC;AAAA,MAA/B,QAA+B,QAA/B,QAA+B;AAAA,MAArB,IAAqB,QAArB,IAAqB;AAAA,MAAf,GAAe,QAAf,GAAe;AAAA,MAAV,GAAU,QAAV,GAAU;;AACjD,MAAM,2hBAoBiB,uBAAqB,QAArB,SAAiC,IAAjC,GAAwC,GAAxC,CApBjB,iCAAN,C;;;AA0BA,MAAI,SAAJ,CAAc,cAAd,EAA8B,WAA9B;AACA,MAAI,KAAJ,CAAU,kBAAV;AACD,CA7BD;;AA+BA,SAAS,UAAT,CAAqB,GAArB,EAA0B;AACxB,SAAO,CAAE,CAAC,IAAD,EAAO,OAAP,CAAF,EACE,CAAC,IAAD,EAAO,MAAP,CADF,EAEE,CAAC,IAAD,EAAO,MAAP,CAFF,EAGE,CAAC,IAAD,EAAO,QAAP,CAHF,EAIE,CAAC,IAAD,EAAO,OAAP,CAJF,EAKE,CAAC,KAAD,EAAQ,OAAR,CALF,EAME,MANF,CAMS,UAAC,CAAD,EAAI,CAAJ;AAAA,WAAU,EAAE,OAAF,6BAAa,CAAb,EAAV;AAAA,GANT,EAMoC,GANpC,CAAP;AAOD","file":"as-html.js","sourcesContent":["module.exports = ({ hostName, port, url, res }) => {\n  const HTMLTemplateString = `<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Echo Web Server</title>\n    <style>\n      #sent, #received {\n        margin-left: 2.5em;\n      }\n    </style>\n    <script>\n      window.addEventListener(\"load\", function (event) {\n        document.getElementById(\"sent\").textContent = decodeURI(document.URL)\n      });\n    </script>\n  </head>\n  <body>\n    <p>You sent the request:</p>\n    <pre id=\"sent\"></pre>\n    <p>I saw the request:</p>\n    <pre id=\"received\">${escapeHTML(`http://${hostName}:${port}${url}`)}</pre>\n  </body>\n</html>\n` // END HTMLTemplateString\n\n  // Send HTML to client\n  res.setHeader('Content-Type', 'text/html')\n  res.write(HTMLTemplateString)\n}\n\nfunction escapeHTML (str) {\n  return [ [/&/g, '&amp;']\n         , [/>/g, '&gt;']\n         , [/</g, '&lt;']\n         , [/\"/g, '&quot;']\n         , [/'/g, '&#39;']\n         , [/\\`/g, '&#96;']\n         ].reduce((p, c) => p.replace(...c), str)\n}\n"]}