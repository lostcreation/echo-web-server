{"version":3,"sources":["../../src/loggers/as-html.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,OAAP,GAAiB,MAAjB;;AAEA,IAAM,aAAa,QAAQ,yBAAR,CAAnB;;;;;;;;;;AAUA,SAAS,MAAT,OAA2C;AAAA,MAAxB,IAAwB,QAAxB,IAAwB;AAAA,MAAlB,IAAkB,QAAlB,IAAkB;AAAA,MAAZ,GAAY,QAAZ,GAAY;AAAA,MAAP,GAAO,QAAP,GAAO;;AACzC,MAAM,2hBAoBiB,uBAAqB,IAArB,SAA6B,IAA7B,GAAoC,GAApC,CApBjB,iCAAN,C;;;AA0BA,MAAI,SAAJ,CAAc,cAAd,EAA8B,WAA9B;AACA,MAAI,KAAJ,CAAU,kBAAV;AACD","file":"as-html.js","sourcesContent":["'use strict'\n\nmodule.exports = asHTML\n\nconst escapeHTML = require('../utils/escape-html.js')\n\n/**\n * Renders HTML summary of the request for the client.\n * @param {Object} requestInfo       - Logging info for the the request.\n * @param {string} requestInfo.host  - Servers host or IP address.\n * @param {string} requestInfo.port  - Port the server is listening on.\n * @param {string} requestInfo.url   - The path requested by the client.\n * @param {object} requestInfo.res   - The server response object that will recieve the HTML.\n */\nfunction asHTML ({ host, port, url, res }) {\n  const htmlTemplateString = `<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Echo Web Server</title>\n    <style>\n      #sent, #received {\n        margin-left: 2.5em;\n      }\n    </style>\n    <script>\n      window.addEventListener(\"load\", function (event) {\n        document.getElementById(\"sent\").textContent = decodeURI(document.URL)\n      });\n    </script>\n  </head>\n  <body>\n    <p>You sent the request:</p>\n    <pre id=\"sent\"></pre>\n    <p>I saw the request:</p>\n    <pre id=\"received\">${escapeHTML(`http://${host}:${port}${url}`)}</pre>\n  </body>\n</html>\n` // END HTMLTemplateString\n\n  // Send HTML to client\n  res.setHeader('Content-Type', 'text/html')\n  res.write(htmlTemplateString)\n}\n"]}