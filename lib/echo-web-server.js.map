{"version":3,"sources":["../src/echo-web-server.js"],"names":[],"mappings":";;;AACA,IAAM,WAAW,QAAQ,GAAR,CAAY,sBAAZ,KAAuC,SAAxD;AACA,IAAM,OAAW,QAAQ,GAAR,CAAY,sBAAZ,KAAuC,MAAxD;;;AAGA,IAAM,OAAY,QAAQ,MAAR,CAAlB;AACA,IAAM,UAAU,CAAE,QAAQ,yBAAR,CAAF,EACE,QAAQ,gCAAR,CADF,EAEE,QAAQ,sBAAR,CAFF,CAAhB;;;AAMA,IAAM,SAAS,KAAK,YAAL,CAAkB,UAAC,GAAD,EAAM,GAAN,EAAc;AAC7C,MAAM,cAAc,OAAO,MAAP,CAAc,EAAE,kBAAF,EAAY,UAAZ,EAAkB,QAAlB;AACE,YAAS,IAAI,UAAJ,CAAe,aAD1B;AAEE,SAAS,UAAU,IAAI,GAAd;AAFX,GAAd,CAApB;AAIA,MAAI,UAAJ,GAAiB,GAAjB;AACA,MAAI,SAAJ,CAAc,eAAd,EAA+B,UAA/B;AACA,UAAQ,OAAR,CAAgB,UAAC,GAAD;AAAA,WAAS,IAAI,WAAJ,CAAT;AAAA,GAAhB;AACA,MAAI,GAAJ;AACD,CATc,CAAf;;AAWA,OAAO,MAAP,CAAc,IAAd,EAAoB,QAApB,EAA8B,YAAM;AAClC,UAAQ,GAAR,+BAAwC,QAAxC,SAAoD,IAApD;AACA,UAAQ,IAAR,IAAgB,QAAQ,IAAR,CAAa,EAAE,kBAAF,EAAY,UAAZ,EAAb,CAAhB;AACD,CAHD","file":"echo-web-server.js","sourcesContent":["// ENV\nconst hostName = process.env['ECHO_WEB_SERVER_HOST'] || '0.0.0.0'\nconst port     = process.env['ECHO_WEB_SERVER_PORT'] || '8080'\n\n// Dependencies\nconst http    =   require('http')\nconst loggers = [ require(\"./loggers/to-console.js\")\n                , require(\"./loggers/to-parent-process.js\")\n                , require(\"./loggers/as-html.js\")\n                ]\n\n// Server\nconst server = http.createServer((req, res) => {\n  const requestInfo = Object.freeze({ hostName, port, res\n                                    , client : req.connection.remoteAddress\n                                    , url    : decodeURI(req.url)\n                                    })\n  res.statusCode = 404\n  res.setHeader('Cache-Control', 'no-cache')\n  loggers.forEach((log) => log(requestInfo))\n  res.end()\n})\n\nserver.listen(port, hostName, () => {\n  console.log(`Server running at http://${hostName}:${port}/`)\n  process.send && process.send({ hostName, port })\n})\n"]}